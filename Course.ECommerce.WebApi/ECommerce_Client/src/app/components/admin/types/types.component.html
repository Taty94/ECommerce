<div class="container">
    <div class="b-example-divider"></div>
    <h2 class="pb-2 border-bottom">Product Types</h2>
    <button (click)="openModal(template)" class="btn btn-primary">Create New</button>
    <table class="table align-middle mb-0 bg-white mt-4">
      <thead class="bg-light">
        <tr>
          <th>Code</th>
          <th>Description</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let type of types">
          <td>
            <div class="d-flex align-items-center">
              <img src="../../../../assets/images/type.jpg" alt="" style="width: 45px; height: 45px"
                class="rounded-circle" />
              <div class="ms-3">
                <p class="fw-bold mb-1">{{type.id}}</p>
              </div>
            </div>
          </td>
          <td>
            <p class="fw-normal mb-1">{{type.description}}</p>
          </td>
          <td>
            <span [ngClass]="!type.isDeleted ? 'bg-success': 'bg-danger'"
              [innerHTML]="!type.isDeleted?'Active':'Inactive'" class="badge rounded-pill d-inline"></span>
          </td>
          <td>
            <button type="button" class="btn btn-link btn-sm btn-rounded" (click)="getType(template, type.id)">
              <i class="fa fa-pencil-square-o" style="cursor: pointer;font-size:2em"></i>
            </button>
            <button type="button" class="btn btn-link btn-sm btn-rounded text-danger" (click)="deleteType(type.id)">
              <i class="fa fa-trash" style="cursor: pointer;font-size:2em"></i>
            </button>
          </td>
        </tr>
  
      </tbody>
    </table>
  
    <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left">Type Detail</h4>
        <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal()">
          <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
      </div>
      <div class="modal-body">
  
        <form [formGroup]="typeForm" (ngSubmit)="onSubmit()">
  
          <div class="form-floating mb-4">
            <input formControlName="id" type="text" class="form-control" id="id" placeholder="id">
            <label for="floatingInput">Id</label>
            <div
              *ngIf="typeForm.controls['id'].invalid && (typeForm.controls['id'].dirty || typeForm.controls['id'].touched)"
              class="my-2">
              <small *ngIf="typeForm.controls['id'].errors?.['required']" class="text-danger">
                Id is required
              </small>
              <small *ngIf="typeForm.controls['id'].errors?.['maxlength']" class="text-danger">
                Id must not exceed 4 characters
              </small>
            </div>
          </div>
  
          <div class="form-floating mb-4">
            <textarea formControlName="description" type="text" class="form-control" id="description"
              placeholder="description"></textarea>
            <label for="floatingInput">Description</label>
            <div
              *ngIf="typeForm.controls['description'].invalid && (typeForm.controls['description'].dirty || typeForm.controls['description'].touched)"
              class="my-2">
              <small *ngIf="typeForm.controls['description'].errors?.['required']" class="text-danger">
                Descriptionis required
              </small>
              <small *ngIf="typeForm.controls['description'].errors?.['maxlength']" class="text-danger">
                Description must not exceed 256 characters
              </small>
            </div>
          </div>
  
          
  
          <div class="d-flex justify-content-center">
            <button class="btn btn-danger " type="button" (click)="closeModal()">Cancel</button>
            <button class="btn btn-success ms-3" type="submit">Save</button>
          </div>
        </form>
      </div>
    </ng-template>
  </div>